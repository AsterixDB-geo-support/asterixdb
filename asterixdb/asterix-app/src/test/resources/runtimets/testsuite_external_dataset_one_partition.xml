<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<!--
 ! Licensed to the Apache Software Foundation (ASF) under one
 ! or more contributor license agreements.  See the NOTICE file
 ! distributed with this work for additional information
 ! regarding copyright ownership.  The ASF licenses this file
 ! to you under the Apache License, Version 2.0 (the
 ! "License"); you may not use this file except in compliance
 ! with the License.  You may obtain a copy of the License at
 !
 !   http://www.apache.org/licenses/LICENSE-2.0
 !
 ! Unless required by applicable law or agreed to in writing,
 ! software distributed under the License is distributed on an
 ! "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 ! KIND, either express or implied.  See the License for the
 ! specific language governing permissions and limitations
 ! under the License.
 !-->
<test-suite xmlns="urn:xml.testframework.asterix.apache.org" ResultOffsetPath="results" QueryOffsetPath="queries_sqlpp" QueryFileExtension=".sqlpp">
  <test-group name="external-dataset">
    <test-case FilePath="external-dataset"  check-warnings="true">
      <compilation-unit name="aws/s3/csv-header">
        <output-dir compare="Text">aws/s3/csv-header</output-dir>
      </compilation-unit>
    </test-case>
    <test-case FilePath="external-dataset" check-warnings="true">
      <compilation-unit name="aws/s3/csv-no-header">
        <output-dir compare="Text">aws/s3/csv-no-header</output-dir>
      </compilation-unit>
    </test-case>
    <test-case FilePath="external-dataset" check-warnings="true">
      <compilation-unit name="aws/s3/tsv-header">
        <output-dir compare="Text">aws/s3/tsv-header</output-dir>
      </compilation-unit>
    </test-case>
    <test-case FilePath="external-dataset" check-warnings="true">
      <compilation-unit name="aws/s3/tsv-no-header">
        <output-dir compare="Text">aws/s3/tsv-no-header</output-dir>
      </compilation-unit>
    </test-case>
    <test-case FilePath="external-dataset" check-warnings="true">
      <compilation-unit name="aws/s3/csv-warnings">
        <output-dir compare="Text">aws/s3/csv-warnings</output-dir>
        <expected-warn>Parsing error at data_dir/no_h_missing_fields.csv record 2 field 3: some fields are missing</expected-warn>
        <expected-warn>Parsing error at data_dir/no_h_no_closing_q.csv record 0 field 0: malformed input record ended inside quote</expected-warn>
        <expected-warn>Parsing error at  record 0 field 0: malformed input record ended inside quote</expected-warn>

        <expected-warn>Parsing error at  record 4 field 3: invalid value</expected-warn>
        <expected-warn>Parsing error at  record 1 field 1: invalid value</expected-warn>
        <expected-warn>Parsing error at  record 10 field 1: invalid value</expected-warn>
        <expected-warn>Parsing error at  record 2 field 1: invalid value</expected-warn>
        <expected-warn>Parsing error at  record 3 field 1: invalid value</expected-warn>
        <expected-warn>Parsing error at  record 6 field 7: invalid value</expected-warn>
        <expected-warn>Parsing error at  record 12 field 7: invalid value</expected-warn>
        <expected-warn>Parsing error at  record 11 field 3: invalid value</expected-warn>
        <expected-warn>Parsing error at  record 8 field 6: a quote should be in the beginning</expected-warn>

        <expected-warn>Parsing error at data_dir/h_invalid_values.csv record 4 field 3: invalid value</expected-warn>
        <expected-warn>Parsing error at data_dir/h_invalid_values.csv record 1 field 1: invalid value</expected-warn>
        <expected-warn>Parsing error at data_dir/h_invalid_values.csv record 10 field 1: invalid value</expected-warn>
        <expected-warn>Parsing error at data_dir/h_invalid_values.csv record 2 field 1: invalid value</expected-warn>
        <expected-warn>Parsing error at data_dir/h_invalid_values.csv record 3 field 1: invalid value</expected-warn>
        <expected-warn>Parsing error at data_dir/h_invalid_values.csv record 6 field 7: invalid value</expected-warn>
        <expected-warn>Parsing error at data_dir/h_invalid_values.csv record 12 field 7: invalid value</expected-warn>
        <expected-warn>Parsing error at data_dir/h_invalid_values.csv record 11 field 3: invalid value</expected-warn>
        <expected-warn>Parsing error at data_dir/h_invalid_values.csv record 8 field 6: a quote should be in the beginning</expected-warn>
      </compilation-unit>
    </test-case>
    <test-case FilePath="external-dataset" check-warnings="true">
      <compilation-unit name="aws/s3/tsv-warnings">
        <output-dir compare="Text">aws/s3/tsv-warnings</output-dir>
        <expected-warn>Parsing error at data_dir/no_h_missing_fields.tsv record 2 field 3: some fields are missing</expected-warn>
      </compilation-unit>
    </test-case>
    <test-case FilePath="external-dataset" check-warnings="true">
      <compilation-unit name="aws/s3/jsonl">
        <output-dir compare="Text">aws/s3/jsonl</output-dir>
      </compilation-unit>
    </test-case>
  </test-group>
</test-suite>
